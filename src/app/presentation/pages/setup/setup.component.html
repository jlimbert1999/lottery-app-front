<div class="flex h-screen animate__animated animate__fadeIn">
  <div class="w-full sm:w-1/3">
    <div class="h-full overflow-y-scroll px-2">
      <p-dataview [value]="prizes()">
        <ng-template #header>
          <div class="flex justify-end">Listado de tramite</div>
        </ng-template>
        <ng-template #list let-items>
          <div class="grid grid-cols-12 grid-nogutter">
            @for (item of items; track $index) {
            <div class="col-span-12">
              <div
                class="flex flex-col sm:flex-row sm:items-center p-2 gap-4"
                [ngClass]="{
                  'border-t border-surface-700': $index !== 0
                }"
              >
                <div class="md:w-32 relative flex justify-center">
                  <img class="object-contain h-24" [src]="item.image" />
                </div>
                <div
                  class="flex flex-col md:flex-row justify-between md:items-center flex-1 gap-6"
                >
                  <div
                    class="flex flex-row md:flex-col justify-between items-start gap-2"
                  >
                    <div>
                      <span class="font-bold text-lg">
                        {{ item.number }} - {{ item.name }}
                      </span>
                      <div class="text-sm font-medium">
                        {{ item.description }}
                      </div>
                    </div>
                  </div>
                  <div class="flex flex-col md:items-end gap-8">
                    @if(item.participant){
                    <p-tag severity="success" value="Sorteado" />
                    } @else {
                    <p-tag severity="warn" value="Pendiente" />
                    }
                    <div class="flex flex-row-reverse md:flex-row">
                      <p-button
                        icon="pi pi-arrow-right"
                        [outlined]="true"
                        (onClick)="onSelectPrize(item)"
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
            }
          </div>
        </ng-template>
      </p-dataview>
    </div>
  </div>
  <div class="w-2/3">
    @if(currentPrize()){
    <raffle [(prize)]="currentPrize" (prizeChange)="setWinnerPrize($event)" />
    } @else {
    <div class="flex flex-col justify-center items-center h-full">
      <div
        class="text-center animate__animated animate__pulse animate__infinite infinite"
      >
        <img
          src="images/institution.jpeg"
          class="w-72 mx-auto"
          alt="Institution image"
        />
        <div
          class="mt-8 text-xl font-bold sm:text-6xl text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500"
        >
          GRAN SORTEO
        </div>
        <div
          class="mt-4 text-balance text-md font-semibold tracking-tight text-gray-900 sm:text-4xl"
        >
          “AL BUEN CONTRIBUYENTE” SACABA
        </div>

        <p
          class="mt-8 text-pretty text-lg font-medium text-gray-500 sm:text-xl/8"
        >
          Seleccione un premio para iniciar el sorteo
        </p>
      </div>
    </div>
    }
  </div>
</div>
